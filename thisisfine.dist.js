var e=function(n,t,r,l){var o;t[0]=0;for(var s=1;s<t.length;s++){var i=t[s++],u=t[s]?(t[0]|=i?1:2,r[t[s++]]):t[++s];3===i?l[0]=u:4===i?l[1]=Object.assign(l[1]||{},u):5===i?(l[1]=l[1]||{})[t[++s]]=u:6===i?l[1][t[++s]]+=u+"":i?(o=n.apply(u,e(n,u,r,["",null])),l.push(o),u[0]?t[0]|=2:(t[s-2]=0,t[s]=o)):l.push(u)}return l},n=new Map;var t={},r=[],l=function(e){this.events[e.type](e)},o=e=>null==e?e:e.key,s=(e,n,t,r,o)=>{"key"===n||("o"===n[0]&&"n"===n[1]?((e.events||(e.events={}))[n=n.slice(2)]=r)?t||e.addEventListener(n,l):e.removeEventListener(n,l):!o&&"list"!==n&&"form"!==n&&n in e?e[n]=null==r?"":r:null==r||!1===r?e.removeAttribute(n):e.setAttribute(n,r))},i=(e,n)=>{var t=e.props,r=3===e.type?document.createTextNode(e.tag):(n=n||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag,{is:t.is}):document.createElement(e.tag,{is:t.is});for(var l in t)s(r,l,null,t[l],n);for(var o=0;o<e.children.length;o++)r.appendChild(i(e.children[o]=a(e.children[o]),n));return e.node=r},u=(e,n,t,r,l)=>{if(t===r);else if(null!=t&&3===t.type&&3===r.type)t.tag!==r.tag&&(n.nodeValue=r.tag);else if(null==t||t.tag!==r.tag)n=e.insertBefore(i(r=a(r),l),n),null!=t&&e.removeChild(t.node);else{var d,f,c,p,h=t.props,v=r.props,g=t.children,y=r.children,m=0,w=0,A=g.length-1,C=y.length-1;for(var b in l=l||"svg"===r.tag,{...h,...v})("value"===b||"selected"===b||"checked"===b?n[b]:h[b])!==v[b]&&s(n,b,h[b],v[b],l);for(;w<=C&&m<=A&&null!=(c=o(g[m]))&&c===o(y[w]);)u(n,g[m].node,g[m++],y[w]=a(y[w++]),l);for(;w<=C&&m<=A&&null!=(c=o(g[A]))&&c===o(y[C]);)u(n,g[A].node,g[A--],y[C]=a(y[C--]),l);if(m>A)for(;w<=C;)n.insertBefore(i(y[w]=a(y[w++]),l),(f=g[m])&&f.node);else if(w>C)for(;m<=A;)n.removeChild(g[m++].node);else{var k={},N={};for(b=m;b<=A;b++)null!=(c=g[b].key)&&(k[c]=g[b]);for(;w<=C;)c=o(f=g[m]),p=o(y[w]=a(y[w])),N[c]||null!=p&&p===o(g[m+1])?(null==c&&n.removeChild(f.node),m++):null==p||1===t.type?(null==c&&(u(n,f&&f.node,f,y[w],l),w++),m++):(c===p?(u(n,f.node,f,y[w],l),N[p]=!0,m++):null!=(d=k[p])?(u(n,n.insertBefore(d.node,f&&f.node),d,y[w],l),N[p]=!0):u(n,f&&f.node,null,y[w],l),w++);for(;m<=A;)null==o(f=g[m++])&&n.removeChild(f.node);for(var b in k)null==N[b]&&n.removeChild(k[b].node)}}return r.node=n},a=e=>!0!==e&&!1!==e&&e?e:c(""),d=e=>3===e.nodeType?c(e.nodeValue,e):f(e.nodeName.toLowerCase(),t,r.map.call(e.childNodes,d),1,e),f=(e,n,t,r,l)=>({tag:e,props:n,key:n.key,children:t,type:r,node:l}),c=(e,n)=>f(e,t,r,3,n);function p(e){if("string"==typeof e||"number"==typeof e)return""+e;let n="";if(Array.isArray(e))for(let t,r=0;r<e.length;r++)""!==(t=p(e[r]))&&(n+=(n&&" ")+t);else for(let t in e)e[t]&&(n+=(n&&" ")+t);return n}function h(e){let n=!0,t=function(){};const r=function(){n=!0,requestAnimationFrame((function(){var r,l;n&&(n=!1,r=e,l=t(),(r=u(r.parentNode,r,r.vdom||d(r),l)).vdom=l)}))},l={set:(e,n,t)=>(e[n]=t,r(),!0)};return{redraw:r,mount:function(e){t=e,r()},autoredraw:function(e){return new Proxy(e,l)}}}const v=function(t){var r=n.get(this);return r||(r=new Map,n.set(this,r)),(r=e(this,r.get(t)||(r.set(t,r=function(e){for(var n,t,r=1,l="",o="",s=[0],i=function(e){1===r&&(e||(l=l.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(0,e,l):3===r&&(e||l)?(s.push(3,e,l),r=2):2===r&&"..."===l&&e?s.push(4,e,0):2===r&&l&&!e?s.push(5,0,!0,l):r>=5&&((l||!e&&5===r)&&(s.push(r,0,l,t),r=6),e&&(s.push(r,e,0,t),r=6)),l=""},u=0;u<e.length;u++){u&&(1===r&&i(),i(u));for(var a=0;a<e[u].length;a++)n=e[u][a],1===r?"<"===n?(i(),s=[s],r=3):l+=n:4===r?"--"===l&&">"===n?(r=1,l=""):l=n+l[0]:o?n===o?o="":l+=n:'"'===n||"'"===n?o=n:">"===n?(i(),r=1):r&&("="===n?(r=5,t=l,l=""):"/"===n&&(r<5||">"===e[u][a+1])?(i(),3===r&&(s=s[0]),r=s,(s=s[0]).push(2,0,r),r=0):" "===n||"\t"===n||"\n"===n||"\r"===n?(i(),r=2):l+=n),3===r&&"!--"===l&&(r=4,s=s[0])}return i(),s}(t)),r),arguments,[])).length>1?r:r[0]}.bind(((e,n,...t)=>((n=n||{}).class&&"object"==typeof n.class&&(n.class=p(n.class)),((e,n,t=r)=>f(e,n,Array.isArray(t)?t:[t]))(e,n,t=(t=(t="string"==typeof t[0]?[c(t[0])]:t).flat()).length>1?t:t[0])))),g=c;export{v as h,g as t,h as thisisfine};
